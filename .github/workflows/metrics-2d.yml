name: Elegant GitHub Stats

on:
  schedule: [{cron: "0 0 * * *"}]
  workflow_dispatch:
  push: {branches: ["master", "main"]}

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          token: ${{ secrets.GH_TOKEN }}

          # --- User Info ---
          user: ${{ github.repository_owner }}
          template: classic
          base: header, activity, community, repositories, metadata
          config_timezone: Asia/Kolkata
          
          # --- The "Big Text" & Layout ---
          config_display: large
          config_padding: 10, 10
          
          # --- Languages Section ---
          plugin_languages: yes
          plugin_languages_ignored: >-
            html, css, tex, less, dockerfile, makefile, qmake, lex, cmake, shell,
            gnuplot
          plugin_languages_limit: 8
          plugin_languages_sections: most-used
          plugin_languages_colors: github
          plugin_languages_details: bytes-size, percentage
          
          # --- Subtle & Elegant CSS ---
          extras_css: |
            /* 1. Background: Clean Dark Gradient (Apple-style dark mode) */
            svg {
              background: linear-gradient(145deg, #0d1117, #161b22);
              border-radius: 12px;
              border: 1px solid rgba(240, 246, 252, 0.1); /* Subtle Silver Border */
            }
            
            /* 2. Make Numbers (Stats) Popping and Larger */
            .field .content {
              font-size: 28px !important;
              font-weight: 700;
              color: #c9d1d9;
            }
            
            /* 3. Subtle "Breathing" Animation on the Stats */
            /* This makes the white text gently pulse, very slowly */
            .field {
              animation: breathe 6s ease-in-out infinite;
            }
            
            /* 4. Elegant Progress Bars */
            .progress-bar {
              border-radius: 4px;
              opacity: 0.9;
            }

            @keyframes breathe {
              0% { transform: scale(1); opacity: 0.95; }
              50% { transform: scale(1.01); opacity: 1; text-shadow: 0 0 15px rgba(255,255,255,0.1); }
              100% { transform: scale(1); opacity: 0.95; }
            }